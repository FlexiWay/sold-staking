"use client";

import { useEffect, useState } from "react";
import { Dialog, DialogPanel } from "@headlessui/react";
import { Bars3Icon, XMarkIcon } from "@heroicons/react/24/outline";
import { Logo } from "./Logo";
import MyMultiButton from "./MyMultiButton";
import { usePathname } from "next/navigation";
import Image from 'next/image';



const navigation = [
  // { name: "Home", href: "/" },
  {
    name: "Buy", href: "/swap", icon: <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18.5625 6.1875H4.8125C4.63016 6.1875 4.4553 6.11507 4.32636 5.98614C4.19743 5.8572 4.125 5.68234 4.125 5.5C4.125 5.31766 4.19743 5.1428 4.32636 5.01386C4.4553 4.88493 4.63016 4.8125 4.8125 4.8125H16.5C16.6823 4.8125 16.8572 4.74007 16.9861 4.61114C17.1151 4.4822 17.1875 4.30734 17.1875 4.125C17.1875 3.94266 17.1151 3.7678 16.9861 3.63886C16.8572 3.50993 16.6823 3.4375 16.5 3.4375H4.8125C4.26619 3.43976 3.7429 3.65779 3.35659 4.04409C2.97029 4.4304 2.75226 4.95369 2.75 5.5V16.5C2.75226 17.0463 2.97029 17.5696 3.35659 17.9559C3.7429 18.3422 4.26619 18.5602 4.8125 18.5625H18.5625C18.9272 18.5625 19.2769 18.4176 19.5348 18.1598C19.7926 17.9019 19.9375 17.5522 19.9375 17.1875V7.5625C19.9375 7.19783 19.7926 6.84809 19.5348 6.59023C19.2769 6.33237 18.9272 6.1875 18.5625 6.1875ZM15.4688 13.4062C15.2648 13.4062 15.0654 13.3458 14.8958 13.2325C14.7262 13.1191 14.5941 12.9581 14.516 12.7696C14.4379 12.5812 14.4175 12.3739 14.4573 12.1738C14.4971 11.9738 14.5953 11.79 14.7395 11.6458C14.8838 11.5016 15.0675 11.4034 15.2676 11.3636C15.4676 11.3238 15.675 11.3442 15.8634 11.4222C16.0518 11.5003 16.2129 11.6325 16.3262 11.8021C16.4395 11.9717 16.5 12.171 16.5 12.375C16.5 12.6485 16.3914 12.9108 16.198 13.1042C16.0046 13.2976 15.7423 13.4062 15.4688 13.4062Z" fill="#39414D" />
    </svg>
  },
  {
    name: "Staking", href: "/staking", icon: <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M20.4273 2.55226L18.1586 4.81241L18.6226 5.27648C18.8783 5.53117 19.0812 5.83385 19.2196 6.16714C19.358 6.50043 19.4293 6.85777 19.4293 7.21866C19.4293 7.57956 19.358 7.9369 19.2196 8.27019C19.0812 8.60347 18.8783 8.90615 18.6226 9.16085L16.4398 11.3437L16.6461 11.5413C16.7752 11.6717 16.8476 11.8477 16.8476 12.0312C16.8476 12.2146 16.7752 12.3907 16.6461 12.521C16.5146 12.6481 16.339 12.7191 16.1562 12.7191C15.9734 12.7191 15.7978 12.6481 15.6664 12.521L14.9789 11.8335L10.1664 7.02101L9.47887 6.33351C9.36924 6.19993 9.31321 6.03035 9.32169 5.85775C9.33016 5.68515 9.40254 5.52188 9.52473 5.39968C9.64692 5.27749 9.8102 5.20512 9.9828 5.19664C10.1554 5.18816 10.325 5.24419 10.4586 5.35382L10.6562 5.56007L12.839 3.37726C13.0937 3.12158 13.3964 2.9187 13.7297 2.78028C14.063 2.64185 14.4203 2.57059 14.7812 2.57059C15.1421 2.57059 15.4994 2.64185 15.8327 2.78028C16.166 2.9187 16.4687 3.12158 16.7234 3.37726L17.1875 3.84132L19.4476 1.57257C19.5812 1.46294 19.7508 1.40691 19.9234 1.41539C20.096 1.42387 20.2592 1.49624 20.3814 1.61843C20.5036 1.74063 20.576 1.9039 20.5845 2.0765C20.593 2.2491 20.5369 2.41868 20.4273 2.55226V2.55226ZM11.8851 11.8851L10.3125 13.4663L8.53355 11.6874L10.1148 10.1148C10.2244 9.98118 10.2805 9.8116 10.272 9.639C10.2635 9.4664 10.1911 9.30313 10.0689 9.18093C9.94675 9.05874 9.78347 8.98637 9.61087 8.97789C9.43828 8.96941 9.2687 9.02544 9.13512 9.13507L7.56246 10.7163L7.02105 10.1663L6.33355 9.47882C6.19998 9.36919 6.0304 9.31316 5.8578 9.32164C5.6852 9.33012 5.52192 9.40249 5.39973 9.52468C5.27754 9.64688 5.20516 9.81015 5.19669 9.98275C5.18821 10.1553 5.24424 10.3249 5.35387 10.4585L5.56012 10.6562L3.3773 12.839C3.12163 13.0937 2.91875 13.3964 2.78032 13.7296C2.6419 14.0629 2.57064 14.4203 2.57064 14.7812C2.57064 15.1421 2.6419 15.4994 2.78032 15.8327C2.91875 16.166 3.12163 16.4687 3.3773 16.7234L3.84137 17.1874L1.57262 19.4476C1.44352 19.5779 1.37109 19.754 1.37109 19.9374C1.37109 20.1209 1.44352 20.2969 1.57262 20.4273C1.70403 20.5543 1.87967 20.6253 2.06246 20.6253C2.24525 20.6253 2.4209 20.5543 2.5523 20.4273L4.81246 18.1585L5.27652 18.6226C5.53122 18.8782 5.8339 19.0811 6.16719 19.2195C6.50048 19.358 6.85782 19.4292 7.21871 19.4292C7.5796 19.4292 7.93695 19.358 8.27023 19.2195C8.60352 19.0811 8.9062 18.8782 9.1609 18.6226L11.3437 16.4398L11.5414 16.646C11.6728 16.7731 11.8484 16.8441 12.0312 16.8441C12.214 16.8441 12.3896 16.7731 12.5211 16.646C12.6502 16.5157 12.7226 16.3396 12.7226 16.1562C12.7226 15.9727 12.6502 15.7967 12.5211 15.6663L11.8336 14.9788L11.2836 14.4374L12.8648 12.8648C12.9744 12.7312 13.0305 12.5616 13.022 12.389C13.0135 12.2164 12.9411 12.0531 12.8189 11.9309C12.6967 11.8087 12.5335 11.7364 12.3609 11.7279C12.1883 11.7194 12.0187 11.7754 11.8851 11.8851V11.8851Z" fill="#39414D" />
    </svg>
  },
];

export default function Example() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const pathname = usePathname();

  return (
    <header className="pt-4">
      <nav
        className="mx-auto flex w-full container items-center justify-between p-4 lg:px-8 border-b border-b-white border-opacity-10 pb-7"
        aria-label="Global"
      >
        <div className="flex items-center gap-x-12 ">
          <Logo />
        </div>
        <div className="hidden lg:flex lg:gap-x-12  flex-grow items-center justify-center -mb-12">
          {navigation.map((item) => (
            <a
              key={item.name}
              href={item.href}
              className={`text-sm group font-semibold leading-6 flex items-center justify-center gap-2 border-b-2 transition-all ease-in-out duration-300 py-4 ${item.href === pathname ? "border-b-brand-first text-brand-first" : "text-white border-b-transparent hover:text-brand-first hover:border-b-brand-first"}`}
            >
              {
                item.name === "Buy" ?
                  <svg width="18" height="18" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" className='group-hover:-translate-y-1 transition-all duration-300 ease-in-out'>
                    <path d="M18.5625 6.1875H4.8125C4.63016 6.1875 4.4553 6.11507 4.32636 5.98614C4.19743 5.8572 4.125 5.68234 4.125 5.5C4.125 5.31766 4.19743 5.1428 4.32636 5.01386C4.4553 4.88493 4.63016 4.8125 4.8125 4.8125H16.5C16.6823 4.8125 16.8572 4.74007 16.9861 4.61114C17.1151 4.4822 17.1875 4.30734 17.1875 4.125C17.1875 3.94266 17.1151 3.7678 16.9861 3.63886C16.8572 3.50993 16.6823 3.4375 16.5 3.4375H4.8125C4.26619 3.43976 3.7429 3.65779 3.35659 4.04409C2.97029 4.4304 2.75226 4.95369 2.75 5.5V16.5C2.75226 17.0463 2.97029 17.5696 3.35659 17.9559C3.7429 18.3422 4.26619 18.5602 4.8125 18.5625H18.5625C18.9272 18.5625 19.2769 18.4176 19.5348 18.1598C19.7926 17.9019 19.9375 17.5522 19.9375 17.1875V7.5625C19.9375 7.19783 19.7926 6.84809 19.5348 6.59023C19.2769 6.33237 18.9272 6.1875 18.5625 6.1875ZM15.4688 13.4062C15.2648 13.4062 15.0654 13.3458 14.8958 13.2325C14.7262 13.1191 14.5941 12.9581 14.516 12.7696C14.4379 12.5812 14.4175 12.3739 14.4573 12.1738C14.4971 11.9738 14.5953 11.79 14.7395 11.6458C14.8838 11.5016 15.0675 11.4034 15.2676 11.3636C15.4676 11.3238 15.675 11.3442 15.8634 11.4222C16.0518 11.5003 16.2129 11.6325 16.3262 11.8021C16.4395 11.9717 16.5 12.171 16.5 12.375C16.5 12.6485 16.3914 12.9108 16.198 13.1042C16.0046 13.2976 15.7423 13.4062 15.4688 13.4062Z" fill={item.href === pathname ? "blue" : "white"} />
                  </svg> :
                  <svg width="18" height="18" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" className='group-hover:-translate-y-1 transition-all duration-300 ease-in-out'>
                    <path d="M20.4273 2.55226L18.1586 4.81241L18.6226 5.27648C18.8783 5.53117 19.0812 5.83385 19.2196 6.16714C19.358 6.50043 19.4293 6.85777 19.4293 7.21866C19.4293 7.57956 19.358 7.9369 19.2196 8.27019C19.0812 8.60347 18.8783 8.90615 18.6226 9.16085L16.4398 11.3437L16.6461 11.5413C16.7752 11.6717 16.8476 11.8477 16.8476 12.0312C16.8476 12.2146 16.7752 12.3907 16.6461 12.521C16.5146 12.6481 16.339 12.7191 16.1562 12.7191C15.9734 12.7191 15.7978 12.6481 15.6664 12.521L14.9789 11.8335L10.1664 7.02101L9.47887 6.33351C9.36924 6.19993 9.31321 6.03035 9.32169 5.85775C9.33016 5.68515 9.40254 5.52188 9.52473 5.39968C9.64692 5.27749 9.8102 5.20512 9.9828 5.19664C10.1554 5.18816 10.325 5.24419 10.4586 5.35382L10.6562 5.56007L12.839 3.37726C13.0937 3.12158 13.3964 2.9187 13.7297 2.78028C14.063 2.64185 14.4203 2.57059 14.7812 2.57059C15.1421 2.57059 15.4994 2.64185 15.8327 2.78028C16.166 2.9187 16.4687 3.12158 16.7234 3.37726L17.1875 3.84132L19.4476 1.57257C19.5812 1.46294 19.7508 1.40691 19.9234 1.41539C20.096 1.42387 20.2592 1.49624 20.3814 1.61843C20.5036 1.74063 20.576 1.9039 20.5845 2.0765C20.593 2.2491 20.5369 2.41868 20.4273 2.55226V2.55226ZM11.8851 11.8851L10.3125 13.4663L8.53355 11.6874L10.1148 10.1148C10.2244 9.98118 10.2805 9.8116 10.272 9.639C10.2635 9.4664 10.1911 9.30313 10.0689 9.18093C9.94675 9.05874 9.78347 8.98637 9.61087 8.97789C9.43828 8.96941 9.2687 9.02544 9.13512 9.13507L7.56246 10.7163L7.02105 10.1663L6.33355 9.47882C6.19998 9.36919 6.0304 9.31316 5.8578 9.32164C5.6852 9.33012 5.52192 9.40249 5.39973 9.52468C5.27754 9.64688 5.20516 9.81015 5.19669 9.98275C5.18821 10.1553 5.24424 10.3249 5.35387 10.4585L5.56012 10.6562L3.3773 12.839C3.12163 13.0937 2.91875 13.3964 2.78032 13.7296C2.6419 14.0629 2.57064 14.4203 2.57064 14.7812C2.57064 15.1421 2.6419 15.4994 2.78032 15.8327C2.91875 16.166 3.12163 16.4687 3.3773 16.7234L3.84137 17.1874L1.57262 19.4476C1.44352 19.5779 1.37109 19.754 1.37109 19.9374C1.37109 20.1209 1.44352 20.2969 1.57262 20.4273C1.70403 20.5543 1.87967 20.6253 2.06246 20.6253C2.24525 20.6253 2.4209 20.5543 2.5523 20.4273L4.81246 18.1585L5.27652 18.6226C5.53122 18.8782 5.8339 19.0811 6.16719 19.2195C6.50048 19.358 6.85782 19.4292 7.21871 19.4292C7.5796 19.4292 7.93695 19.358 8.27023 19.2195C8.60352 19.0811 8.9062 18.8782 9.1609 18.6226L11.3437 16.4398L11.5414 16.646C11.6728 16.7731 11.8484 16.8441 12.0312 16.8441C12.214 16.8441 12.3896 16.7731 12.5211 16.646C12.6502 16.5157 12.7226 16.3396 12.7226 16.1562C12.7226 15.9727 12.6502 15.7967 12.5211 15.6663L11.8336 14.9788L11.2836 14.4374L12.8648 12.8648C12.9744 12.7312 13.0305 12.5616 13.022 12.389C13.0135 12.2164 12.9411 12.0531 12.8189 11.9309C12.6967 11.8087 12.5335 11.7364 12.3609 11.7279C12.1883 11.7194 12.0187 11.7754 11.8851 11.8851V11.8851Z" fill={item.href === pathname ? "blue" : "white"} />
                  </svg>
              }
              {item.name}
            </a>
          ))}
        </div>
        <div className="flex lg:hidden">
          <button
            type="button"
            className="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700"
            onClick={() => setMobileMenuOpen(true)}
          >
            <span className="sr-only">Open main menu</span>
            <Bars3Icon className="h-6 w-6" aria-hidden="true" />
          </button>
        </div>
        <div className="hidden lg:flex ">
          <MyMultiButton />
        </div>
      </nav>
      <Dialog
        className="lg:hidden"
        open={mobileMenuOpen}
        onClose={setMobileMenuOpen}
      >
        <div className="fixed inset-0 z-10" />
        <DialogPanel className="fixed inset-y-0 right-0 z-10 w-full overflow-y-auto bg-brand-black px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-100/10">
          <div className="flex items-center justify-between">
            <Logo />
            <button
              type="button"
              className="-m-2.5 rounded-md p-2.5 text-gray-300"
              onClick={() => setMobileMenuOpen(false)}
            >
              <span className="sr-only">Close menu</span>
              <XMarkIcon className="h-6 w-6" aria-hidden="true" />
            </button>
          </div>
          <div className="mt-6 flow-root">
            <div className="-my-6 divide-y divide-gray-500/10">
              <div className="space-y-2 py-6">
                {navigation.map((item) => (
                  <a
                    key={item.name}
                    href={item.href}
                    className="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-100 hover:bg-gray-500"
                  >
                    {item.name}
                  </a>
                ))}
              </div>
              <div className="py-6">
                <MyMultiButton />
              </div>
            </div>
          </div>
        </DialogPanel>
      </Dialog>
    </header>
  );
}
